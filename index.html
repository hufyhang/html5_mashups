<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8" />
    <!-- <link rel="stylesheet" href="css/reset.css" /> -->
    <link rel="stylesheet" href="css/master.css" />
    <!-- <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Shadows+Into+Light" /> -->
    <title>HyperMash - The Service Composition Platform for Us</title>
    <script src="js/jquery.js"></script>
    <!-- <script src="js/jquery.xdomainajax.js"></script> -->

    <script src="js/kinetic.js"></script>
    <script id="ajax_cross_domain_script" src="http://www.ajax-cross-domain.com/cgi-bin/ACD/ACD.js?"></script>
</head>
<body cellpadding="0" cellspacing="0" link="white" vlink="white" onload="initialise(); initialiseBigCanvas();">    
<script>
    function parseXML(xml) {
        var data = $(xml).find("Result");
        alert($(data).find("latitude").text());
        // $(xml).find("Result").each(function() {
        //     var msg = $(this).find("latitude").text() + ":" + $(this).find("longitude").text();
        //     alert(msg);
        // }
        // );
    }

    function testWebPy() {
        // var url = 'https://www.googleapis.com/books/v1/volumes?key=AIzaSyDY-vLXhwOduPlgHD2tqbtmBVboxsOns6g&q=HTML5%20for%20Web%20Designer';
        // var url = 'https://maps.googleapis.com/maps/api/place/textsearch/json?query=restaurants%20LE2%207GF&sensor=true&key=AIzaSyDY-vLXhwOduPlgHD2tqbtmBVboxsOns6g';
        var url = 'http://127.0.0.1:8080/Feifei Hang';


        // $.put(url, function(data) {
        //     data = (eval('(' + data + ')'));
        //             alert(data.message);
            // data = (eval('(' + data.responseText + ')'));
                // for(var item in data.results) {
                //     alert(item['name']);
                //}
        // });

        var result = '';
        $.ajax({
                url: url,
                type: 'DELETE',
                async: false,
                success: function(data) {
                    data = (eval('(' + data + ')'));
                    result = data.message;
                    // alert(result);
                }
        });

        alert('CHECK: ' + result);

        // var req = new XMLHttpRequest();
        // req.onload = function() {
        //     var data = (eval('(' + req.responseText + ')'));
        //     for (var key in data) {
        //         alert(key);
        //     }
        // }
        // req.open('GET', url, true);
        // req.send();

        // var iframeforAjax = document.querySelector('#iframeforAjax').contentWindow;
        // iframeforAjax.postMessage(url, '*');

//         $.ajax({
//                 url: url,
//                 type: 'GET',
//                 dataType: 'json',
//                 success: function(data) {
//                     for (var key in data) {
//                         alert(key);
//                     }
//                 }
//         });
    }

    function testRest() {
        var url = 'http://where.yahooapis.com/geocode?q=Grafton+street+Manchester+UK';

        var req = new XMLHttpRequest();
        req.onload = function() {
            parseXML(req.responseText);
        }
        req.open("GET", url, true);
        req.send(null);

        // $.getJSON(url, function(data) {
        //     alert(data.responseText);
        // });

        $.ajax({
                url: url,
                type: 'GET',
                dataType: 'json',
                success: function(res) {
                    alert(res.responseText);
                }
        });
    }
</script>

    <!-- head links -->
    <div id="head_links">
        <table border="0" cellpadding="0" cellspacing="0"><tr>
                <td>
                    <div class="head_links_button" onclick="testRest()">element</div>
                    <div class="head_links_button" onclick="testIterate()">iterate</div>
                    <div class="head_links_button" onclick="testWebPy()">element</div>
                </td>
            </tr></table>
    </div>

    <!-- the top menu bar -->
    <div id="top_bar">
        <table class="frame_table" border="0" cellpadding="0">
            <tr><td>
                    <div class="top_bar_button">element</div>
                    <div class="top_bar_button">element</div>
                    <div class="top_bar_button">element</div>
            </td></tr>
            <tr><td>
                    <div class="top_bar_button">element</div>
                    <div class="top_bar_button">element</div>
                    <div class="top_bar_button">element</div>
            </td></tr>
        </table>
    </div>

    <!-- dashboard -->
    <div id="dashboard" class="dashboard">
        <table class="frame_table" border="0">
            <tr><td style="width: 25%;"></td>
            <td>
                <table class="frame_table" border="0">
                    <tr style="height: 20%;"></tr>
                    <tr><td style="vertical-align: top;"><div id="dashboard_div" class="dashboard_div"><output id="dashboard_output"></output></div></td></tr>
                    <tr style="height: 20%;"></tr>
                </table>
            </td>
            <td style="width: 25%;"></td></tr>
        </table>
    </div>

    <!-- top sidebar -->
    <table class="top_sidebar_frame" border="0" cellpadding="2px;" onmouseover="visibleElement('dashboard')" onmouseout="invisibleElement('dashboard')">
        <tr><td><div class="sidebar_button" onclick="showFeedsPanel('options_field_output')">Feeds</div></td>
            <tr><td><div class="sidebar_button">element</div></td>
        <tr><td><div class="sidebar_button">element</div></td>
        </tr>
    </table>

    <!-- bottom sidebar -->
    <table class="bottom_sidebar_frame" border="0" cellpadding="2px;" onmouseover="visibleElement('dashboard')" onmouseout="invisibleElement('dashboard')">
        <tr><td><div class="sidebar_button">element</div></td>
        <tr><td><div class="sidebar_button">element</div></td>
        </tr>
    </table>

    <!-- sidebar information -->
    <div class="top_sidebar_information">Platter</div>
    <div class="bottom_sidebar_information">information</div>


    <!-- master table -->
    <table id="master_table" class="frame_table" border="0" cellpadding="0" cellspacing="0">
        <tr>
            <td id="left_sidebar" class="master_table_margin"></td>
            <td id="options_field"><div id="options_field_scrollable_div" class="scrollable_div" ><output id="options_field_output">
                    <!-- options field output -->
<table style="width: 100%;">
    <tr><td>                    <input type="TEXT" class="input_box"/></td></tr>
<tr><td>                    <div class="div_push_button">Push button</div></td></tr>
    <tr><td>                    <input type="TEXT" class="input_box"/></td></tr>
<tr><td>                    <div class="div_push_button">Push button</div></td></tr>
    <tr><td>                    <input type="TEXT" class="input_box"/></td></tr>
<tr><td>                    <div class="div_push_button">Push button</div></td></tr>
    <tr><td>                    <input type="TEXT" class="input_box"/></td></tr>
<tr><td>                    <div class="div_push_button">Push button</div></td></tr>
    <tr><td>                    <input type="TEXT" class="input_box"/></td></tr>
<tr><td>                    <div class="div_push_button">Push button</div></td></tr>
    <tr><td>                    <input type="TEXT" class="input_box"/></td></tr>
<tr><td>                    <div class="div_push_button">Push button</div></td></tr>
    <tr><td>                    <input type="TEXT" class="input_box"/></td></tr>
<tr><td>                    <div class="div_push_button">Push button</div></td></tr>
    <tr><td>                    <input type="TEXT" class="input_box"/></td></tr>
<tr><td>                    <div class="div_push_button">Push button</div></td></tr>
    <tr><td>                    <input type="TEXT" class="input_box"/></td></tr>
<tr><td>                    <div class="div_push_button">Push button</div></td></tr>
    <tr><td>                    <input type="TEXT" class="input_box"/></td></tr>
<tr><td>                    <div class="div_push_button">Push button</div></td></tr>
    <tr><td>                    <input type="TEXT" class="input_box"/></td></tr>
<tr><td>                    <div class="div_push_button">Push button</div></td></tr>
    <tr><td>                    <input type="TEXT" class="input_box"/></td></tr>
<tr><td>                    <div class="div_push_button">Push button</div></td></tr>
    <tr><td>                    <input type="TEXT" class="input_box"/></td></tr>
<tr><td>                    <div class="div_push_button">Push button</div></td></tr>
</table>

                </output></div><div id="properties_panel_div" class="scrollable_div">
                    <output id="properties_panel_output">
                    <!--properties panel-->
<center>
<!-- <a href="http://www.w3.org/html/logo/"> -->
<!-- <img src="http://www.w3.org/html/logo/badge/html5-badge-h-css3-graphics-performance-storage.png" width="229" height="64" alt="HTML5 Powered with CSS3 / Styling, Graphics, 3D &amp; Effects, Performance &amp; Integration, and Offline &amp; Storage" title="HTML5 Powered with CSS3 / Styling, Graphics, 3D &amp; Effects, Performance &amp; Integration, and Offline &amp; Storage"> -->
<!-- </a> -->
    <img src="img/html5_logo.png" alt="HTML5 logo" style="margin-top: 10%;" width="50%" height="30%"/>
</center>
                    </output>
                </div></td>

        <td id="big_canvas">
                <!-- <output id="big_canvas_output"> -->
                <!-- big canvas output -->
                    <div id="big_canvas_canvas"></div>
                <!-- </output> -->
            </td>
            <!-- <td id="right_sidebar" class="master_table_margin"></td> -->

            <td style="width: 0.5%; background: #555555;"></td>
        </tr>

    </table>

    <!-- footer & copyright information -->
    <footer><div>&copy; 2012 Feifei Hang, Univeristy of Manchester</div></footer>


    <!-- scripts here -->
    <script src="js/main_events.js"></script>
    <script src="js/big_canvas_events.js"></script>
    <script src="js/servicesComposer.js"></script>
</body>
</html>
